{% load static %} {% load utils %}
<html>

<head>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    
    <body>
        <!DOCTYPE html>
        <html lang="fr">

        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="X-UA-Compatible" content="ie=edge">
            <title>ValuedSeed - Dashboard</title>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
            <script defer src="https://unpkg.com/alpinejs@3.3.2/dist/cdn.min.js"></script>
        </head>
        {% now 'd/m/Y' as date %}

        <body class="h-screen flex flex-col" x-data="{openEventModal : false, user:'', 'subject':'', contenue: '',messages: null,click_msg: false,data_msg: {{dict|safe}},reply_msg: '',
    send_mess() {
        

var xhttp=new XMLHttpRequest();

xhttp.open('POST', 'http://127.0.0.1:8000/messenger/api/new', false)

xhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')

xhttp.onreadystatechange = function() {
    if(this.status==200 && this.readyState==4) {
        console.log('OK')
    }
}
//this.data_msg.list.push({id: this.data_msg.list[this.data_msg.list.lenght-1]+1,subject: this.subject, destinataire: this.user,author: '{{request.user.username}}', message_list: [] })
xhttp.send(`user=${this.user}&object=${this.subject}&contenue=${this.contenue}`)


    }, show_mess() {
        this.click_msg=true
}, reply() {
    var xhttp = new XMLHttpRequest();
    xhttp.open('POST', 'http://127.0.0.1:8000/messenger/api/reply', false);
    xhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')
    xhttp.onreadystatechange = function() {
        if(this.status==200 && this.readyState==4) {
            console.log('OK reply')
        }
    }

    xhttp.send(`actual_mess=${JSON.stringify(this.messages)}&reply=${this.reply_msg}`)
    this.messages.message_list.push({author: '{{request.user.username}}', destinataire: this.messages.destinataire, date: '{{date}}', body: this.reply_msg, draft: 0, new: 0, started: 0, img_src: '{{request.user.profil.img_profil.url}}' })
    this.reply_msg = ''
},is_clicked: false, content: `<div class='bg-red-500 w-8 h-8 rounded-full flex items-center justify-center'>
    <!-- Heroicon name: solid/fire -->
    <svg class='text-white flex-shrink-0 h-5 w-5' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor' aria-hidden='true'>
      <path fill-rule='evenodd' d='M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z' clip-rule='evenodd' />
    </svg>
  </div>`
}">
            <header class="flex flex-shrink-0">
                <div class="w-64 flex-shrink-0 px-4 py-3 bg-gray-800">
                    <button class=" w-full flex items-center">
        <img 
        class="h-8 w-8 rounded-full object-cover" 
        src="{{obj1.img_profil.url}}">
        <span class="ml-4 mr-2 text-sm font-medium text-white">{{user.username}}</span>
        
      </button>
                </div>
                <div class="flex-1 flex items-center px-6 justify-between bg-gray-700">
                    <nav class="flex">
                        <a href="#" class="ml-2 text-sm px-3 py-2 leading-none rounded-lg inline-block font-medium text-white hover:bg-gray-600 bg-gray-800">home</a>
                        <a href="#" class="ml-2 text-sm px-3 py-2 leading-none rounded-lg inline-block font-medium text-white hover:bg-gray-600">messenger</a>
                        <a href="#" class="ml-2 text-sm px-3 py-2 leading-none rounded-lg inline-block font-medium text-white hover:bg-gray-600">todolist</a>
                        <a href="#" class="ml-2 text-sm px-3 py-2 leading-none rounded-lg inline-block font-medium text-white hover:bg-gray-600">forum</a>
                        <a href="#" class="ml-2 text-sm px-3 py-2 leading-none rounded-lg inline-block font-medium text-white hover:bg-gray-600">blog</a>

                    </nav>
                    <div class="flex">
                        <div class="relative py-1">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-2">
              <svg class="h-5 w-5 fill-current text-gray-500" viewBox="0 0 24 24">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M10 2a8 8 0 100 16 8 8 0 000-16zM0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10z"
                />
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M16.293 16.293a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414l-6-6a1 1 0 010-1.414z" />
              </svg>
            </span>
                            <input class="block pl-10 pr-4 py-2 w-64 bg-gray-900 rounded-lg text-sm placeholder-gray-400 text-white focus:bg-white focus:placeholder-gray-700 focus:text-gray-900 focus:outline-none" placeholder="Search">
                        </div>
                        <button class="ml-5 text-gray-400 hover:text-gray-200">
            <svg class="h-5 w-5 fill-current" viewBox="0 0 24 24">
              <path
                d="M8 0a2 2 0 00-2 2v.341C3.67 3.165 2 5.388 2 8v5H1a1 1 0 100 2h14a1 1 0 100-2h-1V8a6.002 6.002 0 00-4-5.659V2a2 2 0 00-2-2zM8 18a2 2 0 01-2-2h4a2 2 0 01-2 2z"
                 />
              </svg>
          </button>
                        <button class="ml-5 text-gray-400 hover:text-gray-200">
            <svg class="h-5 w-5 fill-current" viewBox="0 0 24 24">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm-1.086-8.724c-.084.56.392 1.022.958 1.022h.47a.525.525 0 00.524-.492c.057-.526.283-.986.676-1.379l.63-.62c.492-.495.836-.944 1.033-1.347.197-.409.295-.842.295-1.299 0-1.005-.303-1.782-.909-2.33C13.985 6.277 13.133 6 12.035 6c-1.088 0-1.947.29-2.58.871a2.84 2.84 0 00-.793 1.28c-.184.604.36 1.131.99 1.131.534 0 .933-.435 1.304-.84.052-.057.103-.114.154-.168.234-.247.542-.37.925-.37.808 0 1.212.454 1.212 1.362 0 .301-.078.589-.233.863-.155.269-.469.621-.94 1.056-.466.43-.787.869-.964 1.315-.087.221-.152.48-.196.776zm.057 2.611c-.233.231-.35.527-.35.887 0 .355.114.648.342.88.233.23.539.346.917.346s.68-.116.909-.347c.233-.231.35-.524.35-.879 0-.36-.12-.656-.358-.887-.233-.237-.534-.355-.901-.355-.368 0-.671.118-.91.355z"
                 />
            </svg>
          </button>
                    </div>
                </div>
            </header>

            <div class="flex flex-1 overflow-hidden">
                <div class="w-64 p-6 bg-gray-100 overflow-y-auto ">
                    <nav>
                        <h2 class="text-xs font-semibold text-gray-600 uppercase tracking-wider">
                            Mailboxes
                        </h2>

                        <div class="mt-3">
                            <a href="#" class="mt-2 -mx-3 px-3 py-2 flex items-center justify-between text-sm font-medium bg-gray-200 rounded-lg">
                                <span class="inline-flex align-baseline">
              <span class="leading-normal">
              <i class="fas fa-inbox h-5 w-5 fill-current text-gray-700 "></i>
              </span>
                                <span class="ml-2 text-gray-900">Inbox</span>
                                </span>
                                <span class="w-10 text-center py-1 text-xs font-semibold rounded-full text-gray-700 bg-gray-300">
              6
            </span>
                            </a>
                            <a href="#" class="mt-2 -mx-3 px-3 py-2 flex items-center justify-between text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-lg" @click="openEventModal = ! openEventModal">
                                <span class="inline-flex align-baseline">
              <span class="leading-normal">
              <svg class="h-5 w-5 fill-current text-gray-700" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
              </svg>
              </span>
                                <span class="ml-2 text-gray-900">new message</span>
                                </span>

                            </a>

                            <a href="#" class="mt-2 -mx-3 px-3 py-2 flex items-center justify-between text-sm font-medium hover:bg-gray-200 rounded-lg">
                                <span class="inline-flex align-baseline">
              <span class="leading-normal">
              <i class="far fa-paper-plane h-5 w-5 fill-current text-gray-500 "></i>



              </span>
                                <span class="ml-2 text-gray-700">send </span>
                                </span>
                            </a>
                            <a href="#" class="mt-2 -mx-3 px-3 py-2 flex items-center justify-between text-sm font-medium hover:bg-gray-200 rounded-lg">
                                <span class="inline-flex align-baseline">
              <span class="leading-normal">
              <i class="far fa-edit h-5 w-5 fill-current text-gray-500 "></i>
              </span>
                                <span class="ml-2 text-gray-700">Drafts</span>
                                </span>
                                <span class="w-10 text-center py-1 text-xs font-semibold rounded-full text-gray-700 bg-gray-300">
              2
            </span>
                            </a>

                        </div>


                    </nav>
                </div>
                {% block 'inbox' %}
                <main class="flex-1 flex bg-gray-200">
                    <div class="relative flex flex-col w-full max-w-xs flex-grow border-l border-r bg-gray-200 h-full">
                        <div class="flex-shrink-0 px-4 py-2 border-b flex items-center justify-between">
                            <button class="flex items-center text-xs font-semibold text-gray-600">
                                Sorted by Date
                                <span class="leading-loose h-6 w-6 stroke-current text-gray-500">
                                    <i class="fas fa-chevron-down ml-1"></i>
                                </span>
                            </button>
                            <button>
                                <span class=" h-6 w-6 stroke-current text-gray-500">
                                    <i class="fas fa-sort-amount-up"></i>
                                </span>
                            </button>
                        </div>
                        <div class="flex-1 overflow-y-auto">
                            <template x-for='i in data_msg.list'>
                            <a href="#" class="block px-6 pt-3 pb-4 bg-white hover:bg-gray-100" @click="messages=i;reply_msg=''">
                                <div class="flex justify-between">
                                    <span class="text-sm font-semibold text-gray-900" x-text="i.subject"></span> 
                                </div>
                                <p class="text-sm text-gray-900" x-text="i.author"></p>
                            </a>
                            </template>
                            <template x-show="! data_msg.list">
                            <div class="text-center">

                                <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                  </svg>
                                <h3 class="mt-2 text-sm font-medium text-gray-900">No message</h3>
                                <p class="mt-1 text-sm text-gray-500">
                                    is very sad you don't have messages
                                </p>
                            </div>
                            </template>




                        </div>
                    </div>
                    <template x-if="messages != null">
                    <div class="flex-1 flex flex-col w-0" >
                        <div class="relative shadow-md">
                            <div class="flex items-center px-5 py-4 justify-between bg-gray-100 border-b">
                                <div class="flex items-center">
                                    <a href="#reply">
                                        <span class="leading-normal">
                        <i class="fas fa-reply h-5 w-5 text-2xl fill-current text-gray-600 "></i>
                        </span>
                                    </a>

                                </div>
                            </div>
                            <div class="flex items-center justify-between px-5 py-3 bg-white">
                                <h3 class="text-xl text-gray-900 truncate" x-text="messages.subject"></h3>

                            </div>
                        </div>
                        <div class="p-3 flex-1 overflow-y-auto">
                            <template x-for="p in messages.message_list">
                            <article class="px-10 pt-6 pb-8 bg-white rounded-lg shadow my-3">
                                <div class="flex items-center justify-between">
                                    <p class="text-lg font-semibold">
                                        <span class="text-gray-900"  x-text="p.author">hello</span>
                                        <span class="text-gray-600">wrote</span>
                                    </p>
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-600" x-text="p.date"></span>
                                        <img class="ml-5 h-8 w-8 rounded-full object-cover" :src="p.img_src">
                                    </div>
                                </div>
                                <div class="mt-6 text-gray-800 text-sm">
                                    <p x-text="p.body"></p>
                                </div>
                            </article>
                            </template>
                    <div class="mt-6">
                        
                        <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0">
                            <img class="inline-block h-10 w-10 rounded-full" src="https://images.unsplash.com/photo-1550525811-e5869dd03032?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
                        </div>
                        <div class="min-w-0 flex-1">
                            <form action="#">
                            <div class="border-b border-gray-200 focus-within:border-indigo-600">
                                <label for="comment" class="sr-only">Add your comment</label>
                                <textarea rows="3" name="comment" id="comment" class="block w-full border-0 border-b border-transparent p-0 pb-2 resize-none focus:ring-0 focus:border-indigo-600 sm:text-sm" placeholder="Add your comment..."></textarea>
                            </div>
                            <div class="pt-2 flex justify-between">
                                <div class="flex items-center space-x-5">
                                <div class="flow-root">
                                    <button type="button" class="-m-2 w-10 h-10 rounded-full inline-flex items-center justify-center text-gray-400 hover:text-gray-500">
                                    <!-- Heroicon name: outline/paper-clip -->
                                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" />
                                    </svg>
                                    <span class="sr-only">Attach a file</span>
                                    </button>
                                </div>
                                <div class="flow-root">
                                    <div>
                                    <label id="listbox-label" class="sr-only">
                                        Your mood
                                    </label>
                                    <div class="relative">
                                        <button type="button" class="relative -m-2 w-10 h-10 rounded-full inline-flex items-center justify-center text-gray-400 hover:text-gray-500" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label" @click="is_clicked = ! is_clicked">
                                        <span class="flex items-center justify-center">
                                            <!-- Placeholder label, show/hide based on listbox state. -->
                                            <span>
                                            <!-- Heroicon name: outline/emoji-happy -->
                                            <svg class="flex-shrink-0 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                            </svg>
                                            <span class="sr-only">
                                                Add your mood
                                            </span>
                                            </span>
                                            <!-- Selected item label, show/hide based on listbox state. -->
                                            <span>
                                            <div x-html="content">
                                                <!-- Heroicon name: solid/fire -->
                                                
                                                
                                            </div>
                                            <span class="sr-only">
                                                Excited
                                            </span>
                                            </span>
                                        </span>
                                        </button>
                        
                                        <!--
                                        Select popover, show/hide based on select state.
                        
                                        Entering: ""
                                            From: ""
                                            To: ""
                                        Leaving: "transition ease-in duration-100"
                                            From: "opacity-100"
                                            To: "opacity-0"
                                        -->
                                        <ul class="absolute z-10 -ml-6 w-60 bg-white shadow rounded-lg py-3 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:ml-auto sm:w-64 sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-5" x-show="is_clicked">
                                        <!--
                                            Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.
                        
                                            Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                                        -->
                                        <li class="bg-white cursor-default select-none relative py-2 px-3 hover:bg-gray-100" id="listbox-option-0" role="option" @click='content = "<div class="bg-red-500 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/fire -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd" />
                                                </svg>
                                            </div>"'>
                                            <div class="flex items-center">
                                            <div class="bg-red-500 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/fire -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd" />
                                                </svg>
                                            </div>
                                            <span class="ml-3 block font-medium truncate">
                                                Excited
                                            </span>
                                            </div>
                                        </li>
                        
                                        <!--
                                            Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.
                        
                                            Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                                        -->
                                        <li class="bg-white cursor-default select-none relative py-2 px-3 hover:bg-gray-100" id="listbox-option-1" role="option" @click='content = "<div class="bg-pink-400 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/heart -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
                                                </svg>
                                            </div>"'>
                                            <div class="flex items-center">
                                            <div class="bg-pink-400 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/heart -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
                                                </svg>
                                            </div>
                                            <span class="ml-3 block font-medium truncate">
                                                Loved
                                            </span>
                                            </div>
                                        </li>
                        
                                        <!--
                                            Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.
                        
                                            Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                                        -->
                                        <li class="bg-white cursor-default select-none relative py-2 px-3 hover:bg-gray-100" id="listbox-option-2" role="option" @click='content = "<div class="bg-green-400 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/emoji-happy -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd" />
                                                </svg>
                                            </div>"'>
                                            <div class="flex items-center">
                                            <div class="bg-green-400 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/emoji-happy -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd" />
                                                </svg>
                                            </div>
                                            <span class="ml-3 block font-medium truncate">
                                                Happy
                                            </span>
                                            </div>
                                        </li>
                        
                                        <!--
                                            Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.
                        
                                            Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                                        -->
                                        <li class="bg-white cursor-default select-none relative py-2 px-3 hover:bg-gray-100" id="listbox-option-3" role="option" @click='content = "<div class="bg-yellow-400 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/emoji-sad -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.536 5.879a1 1 0 001.415 0 3 3 0 014.242 0 1 1 0 001.415-1.415 5 5 0 00-7.072 0 1 1 0 000 1.415z" clip-rule="evenodd" />
                                                </svg>
                                            </div>`'>
                                            <div class="flex items-center">
                                            <div class="bg-yellow-400 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/emoji-sad -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.536 5.879a1 1 0 001.415 0 3 3 0 014.242 0 1 1 0 001.415-1.415 5 5 0 00-7.072 0 1 1 0 000 1.415z" clip-rule="evenodd" />
                                                </svg>
                                            </div>
                                            <span class="ml-3 block font-medium truncate">
                                                Sad
                                            </span>
                                            </div>
                                        </li>
                        
                                        <!--
                                            Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.
                        
                                            Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                                        -->
                                        <li class="bg-white cursor-default select-none relative py-2 px-3 hover:bg-gray-100" id="listbox-option-4" role="option" @click='content = "<div class="bg-blue-500 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/thumb-up -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z" />
                                                </svg>
                                            </div>"'>
                                            <div class="flex items-center">
                                            <div class="bg-blue-500 w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/thumb-up -->
                                                <svg class="text-white flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z" />
                                                </svg>
                                            </div>
                                            <span class="ml-3 block font-medium truncate">
                                                Thumbsy
                                            </span>
                                            </div>
                                        </li>
                        
                                        <!--
                                            Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.
                        
                                            Highlighted: "bg-gray-100", Not Highlighted: "bg-white"
                                        -->
                                        <li class="bg-white cursor-default select-none relative py-2 px-3 hover:bg-gray-100" id="listbox-option-5" role="option" @click='content = "<div class="bg-transparent w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/x -->
                                                <svg class="text-gray-400 flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                                                </svg>
                                            </div>"'>
                                            <div class="flex items-center">
                                            <div class="bg-transparent w-8 h-8 rounded-full flex items-center justify-center">
                                                <!-- Heroicon name: solid/x -->
                                                <svg class="text-gray-400 flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                                                </svg>
                                            </div>
                                            <span class="ml-3 block font-medium truncate">
                                                I feel nothing
                                            </span>
                                            </div>
                                        </li>
                                        </ul>
                                    </div>
                                    </div>
                                </div>
                                </div>
                                <div class="flex-shrink-0">
                                <button type="submit" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    Post
                                </button>
                                </div>
                            </div>
                            </form>
                        </div>
                        </div>
                        
                        
                    </div>
                    <div class="mt-3">
                        <button type="button" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" @click="reply">
                                      send
                                  </button>

                    </div>



            </div>

            </div>
            </template>
            <div style=" background-color: rgba(0, 0, 0, 0.8)" class="fixed z-40 top-0 right-0 left-0 bottom-0 h-full w-full" x-show.transition.opacity="openEventModal">
                <div class="p-4 max-w-xl mx-auto relative  left-0 right-0 overflow-hidden mt-24">
                    <div class="shadow absolute right-0 top-0 w-10 h-10 rounded-full bg-white text-gray-500 hover:text-gray-800 inline-flex items-center justify-center cursor-pointer" x-on:click="openEventModal = !openEventModal">
                        <svg class="fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                    d="M16.192 6.344L11.949 10.586 7.707 6.344 6.293 7.758 10.535 12 6.293 16.242 7.707 17.656 11.949 13.414 16.192 17.656 17.606 16.242 13.364 12 17.606 7.758z" />
                </svg>
                    </div>


                    <div class="shadow  rounded-lg bg-white overflow-hidden w-full block p-8">

                        <h2 class="font-bold text-2xl mb-6 text-gray-800 border-b pb-2">New message</h2>

                        <div class="mb-4">
                            <label class="text-gray-800 block mb-1 font-bold text-sm tracking-wide">To: </label>
                            <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" type="text" x-model="user">
                        </div>

                        <div class="mb-4">
                            <label class="text-gray-800 block mb-1 font-bold text-sm tracking-wide">Object</label>
                            <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" type="text" x-model="subject">
                        </div>

                        <div class="inline-block w-64 mb-4">
                            <label class="text-gray-800 block mb-1 font-bold text-sm tracking-wide">Your contenue</label>
                            <div class="relative">
                                <textarea class="bg-gray-200 appearance-none border-2 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" x-model="contenue"></textarea>

                            </div>
                        </div>

                        <div class="mt-8 text-right">
                            <button type="button" class="bg-white hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 border border-gray-300 rounded-lg shadow-sm mr-2" @click="openEventModal = !openEventModal">
                                      Cancel
                                    </button>
                            <button type="button" class="bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 px-4 border border-gray-700 rounded-lg shadow-sm" @click="send_mess();openEventModal = !openEventModal">
                                      save message
                                    </button>
                        </div>
                    </div>
                </div>
            </div>
            </main>
            {% endblock %}

            </div>
        </body>

        </html>



    </body>

</html>